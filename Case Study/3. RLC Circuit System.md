# 📘 Lecture: RLC Circuit System – From Modeling to Controller Design and Deployment

---

## 1. 🔎 Introduction to the System

The **series RLC circuit** is made up of three electrical elements connected in series:

* **Resistor (R):** dissipates energy as heat, represents losses.
* **Inductor (L):** stores energy in a magnetic field, resists sudden current changes.
* **Capacitor (C):** stores energy in an electric field, resists sudden voltage changes.

The **input** is the applied voltage $V_{in}$, and the **output** we care about is the **capacitor voltage $V_c$**.

---

## 2. 🎯 Control Goal and System Roles

### ✅ Control Goal

* The objective is to make the capacitor voltage $V_c(t)$ follow a **desired reference voltage** (e.g., a step or sinusoidal input).
* Example: In a filter, we want $V_c$ to represent only the desired frequency band. In a power supply, we want $V_c$ to be a **regulated constant voltage**.

---

### ⚡ Who does what in the control loop?

1. **Reference (Setpoint):**

   * The target capacitor voltage (e.g., 5 V).

2. **Plant (RLC Circuit):**

   * This is the **system being controlled**.
   * Input: $V_{in}$.
   * Output: capacitor voltage $V_c$.

3. **Sensor (Measurement Unit):**

   * Measures the output $V_c$.
   * Example: a **voltage sensor** connected across the capacitor.

4. **Controller:**

   * Compares the measured output $V_c$ with the reference.
   * Computes an **error = reference – actual voltage**.
   * Decides how to adjust $V_{in}$ to reduce error.
   * Example: PID controller running in MATLAB, DSP, or microcontroller.

5. **Actuator (Driver Circuit):**

   * Applies the corrected input $V_{in}$ to the RLC circuit.
   * Could be a **power amplifier or PWM inverter** in practice.

---

### 🔄 Block Diagram of Closed-Loop System

```
   Reference Voltage (Vref)
              ↓
        +-----------+
        | Controller|  → computes correction (PID, etc.)
        +-----------+
              ↓
        +-----------+
        |  Actuator |  → applies adjusted Vin
        +-----------+
              ↓
        +-----------+
        |  RLC Plant|  → system dynamics
        +-----------+
              ↓
   Output Voltage (Vc) → sensed & fed back
```

👉 This **closed-loop system** ensures that $V_c$ remains close to the desired value even with disturbances (e.g., load changes).

---

## 3. ⚙️ System Modeling

Now that we know **who does what**, let’s write equations.

**Governing Equation (KVL):**

$$
V_{in}(t) = R i(t) + L \frac{di(t)}{dt} + \frac{1}{C} \int i(t) dt
$$

For output $V_c$:

$$
\frac{V_c(s)}{V_{in}(s)} = \frac{1}{L C s^2 + R C s + 1}
$$

This is a **second-order transfer function**.

---

## 4. 📐 Control Goal Revisited

* Desired: $V_c(t) \to V_{ref}(t)$
* Controller’s job: adjust $V_{in}(t)$ to achieve this.
* Sensor’s job: measure $V_c(t)$ for feedback.
* Actuator’s job: physically apply $V_{in}(t)$.

---

## 5. 🎛️ MATLAB Example (with PID Controller)

```matlab
% ⚙️ RLC Circuit Parameters
R = 2; L = 1; C = 0.25;

% 📝 Transfer Function (Vout = Vc / Vin)
num = [1];
den = [L*C R*C 1];
sys = tf(num, den);

% 📊 Step Response (Open Loop)
figure; step(sys);
title('Open-loop Step Response (RLC Circuit)');

% 🎛️ PID Controller
Kp = 50; Ki = 100; Kd = 5;
C_pid = pid(Kp, Ki, Kd);

% 🔄 Closed-loop System
sys_cl = feedback(C_pid*sys, 1);

% 📈 Step Response (With PID)
figure; step(sys_cl);
title('Closed-loop Step Response with PID');
```

---

## 6. 🚀 Deployment View

* **Sensor:** voltage sensor across capacitor.
* **Controller:** PID implemented in DSP/Arduino.
* **Actuator:** driver circuit adjusts input $V_{in}$.
* **Plant:** physical RLC circuit.

---

✅ So now the system is not just math, but a **real closed-loop setup**:

* *Goal = regulate capacitor voltage*
* *Controller = brain*
* *Sensor = eye*
* *Actuator = muscle*
* *Plant (RLC) = body*

---
