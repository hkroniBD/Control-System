# ğŸ“˜ Lecture: Mass-Spring-Damper System â€“ From Modeling to Controller Design and Deployment

---

## 1. ğŸ” Introduction

* The **mass-spring-damper system** is a standard model for mechanical vibrations.
* Applications:
  âœ… Vehicle suspension systems
  âœ… Robotics (joints & manipulators)
  âœ… Vibration isolation systems

Weâ€™ll study:

1. **Modeling** (derive equations)
2. **Analysis** (stability & dynamics)
3. **Controller Design** (PID)
4. **Simulation (MATLAB)**
5. **Deployment considerations**

---

## 2. âš™ï¸ System Modeling

### ğŸ“ Governing Equation

$$
M \ddot{x}(t) + C \dot{x}(t) + K x(t) = F(t)
$$

where:

* **$M$** â€“ Mass (kg)
* **$C$** â€“ Damping coefficient (NÂ·s/m)
* **$K$** â€“ Spring stiffness (N/m)
* **$x(t)$** â€“ Displacement of mass (m)
* **$F(t)$** â€“ External force input (N)

---

### ğŸ“‘ Parameters and Meaning

* $M$: inertia of moving object (resists acceleration).
* $C$: viscous damping (models friction/resistance).
* $K$: spring stiffness (restoring force).
* $x(t)$: system output (position).
* $F(t)$: system input (force applied).

---

### ğŸ”„ Transfer Function

Taking Laplace transform:

$$
\frac{X(s)}{F(s)} = \frac{1}{M s^2 + C s + K}
$$

---

### ğŸ“Š State-Space Representation

Let $x_1 = x$, $x_2 = \dot{x}$:

$$
\dot{x} =
\begin{bmatrix}
0 & 1 \\
-\frac{K}{M} & -\frac{C}{M}
\end{bmatrix} x +
\begin{bmatrix}
0 \\ \frac{1}{M}
\end{bmatrix} F
$$

$$
y = [1 \;\; 0] x
$$

---

## 3. ğŸ“ System Analysis

* **Underdamped** ($\zeta < 1$): oscillatory response.
* **Critically damped** ($\zeta = 1$): fastest non-oscillatory response.
* **Overdamped** ($\zeta > 1$): slow but no oscillation.

ğŸ“Œ Example parameters:

* $M = 1$ kg, $C = 2$ Ns/m, $K = 20$ N/m

---

## 4. ğŸ›ï¸ Controller Design

### ğŸ¯ Control Goal

* Control **position $x(t)$** to follow a reference input.

### ğŸ› ï¸ Method: PID Controller

* $K_p$: proportional action â†’ reduces rise time.
* $K_i$: integral action â†’ eliminates steady-state error.
* $K_d$: derivative action â†’ reduces overshoot.

---

### ğŸ§‘â€ğŸ’» MATLAB Example Code

```matlab
% âš™ï¸ System Parameters
M = 1; C = 2; K = 20;

% ğŸ“ Transfer Function
num = [1];
den = [M C K];
sys = tf(num, den);

% ğŸ“Š Step Response (Open Loop)
figure; step(sys);
title('Open-loop Step Response (Mass-Spring-Damper)');

% ğŸ›ï¸ PID Controller
Kp = 300; Ki = 400; Kd = 10;
C_pid = pid(Kp, Ki, Kd);

% ğŸ”„ Closed-loop System
sys_cl = feedback(C_pid*sys, 1);

% ğŸ“ˆ Step Response (With PID)
figure; step(sys_cl);
title('Closed-loop Step Response with PID');
```

---

## 5. ğŸ’» Simulation & Implementation

* **Open-loop response**: sluggish, may oscillate if underdamped.
* **Closed-loop with PID**: faster, accurate tracking of reference.
* Tune PID parameters via trial/error or MATLABâ€™s **`pidTuner`** tool.

---

## 6. ğŸš€ Deployment Steps

### ğŸ”— Hardware-in-the-Loop

* Replace mathematical model with **real vibration/suspension setup**.
* Test controller while keeping MATLAB in the loop.

### ğŸ–¥ï¸ Embedded Deployment

* Export controller to **microcontroller/PLC**.
* Sample sensors (displacement/force) at â‰¥10Ã— natural frequency.

### âš ï¸ Practical Considerations

* Add **sensors** (displacement, velocity).
* Account for **nonlinearities** (spring not perfectly linear).
* Protect against **force limits** (actuator saturation).

---

## 7. ğŸ Conclusion

* Derived **mass-spring-damper model**.
* Analyzed dynamics using transfer function and state-space.
* Designed a **PID controller** in MATLAB.
* Outlined **deployment methods** for real setups (suspension, robotics).

ğŸ‘‰ This is a universal workflow: **Model â†’ Analyze â†’ Control â†’ Simulate â†’ Deploy**.

