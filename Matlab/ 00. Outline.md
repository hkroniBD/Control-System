# **Sessional Course: Control Systems with MATLAB**
- üìïCourse: Control System Engineering
- ü§ñInstructor: Md. Hassanul Karim Roni, Assistant Professor, EEE, HSTU,Dinajpur,BD


---

**Prerequisites:** Basic linear algebra, differential equations, and introductory programming. Students need MATLAB with Control System Toolbox and Simulink installed.

**Course Objectives:** 
- Build proficiency in modeling, analyzing, and designing control systems via code.
- Progress from foundational simulations to advanced techniques like nonlinear and robust control.
- Emphasize practical exercises, debugging, and real-world applications in electrical systems (e.g., motors, power grids).

**Assessment:** Lab reports (40%), quizzes (20%), mid-term project (15%), final capstone project (25%).

**Resources:** 
- "Control Systems Engineering" by Norman Nise.
- MATLAB Documentation and Control Tutorials (MathWorks).
- Online: Control Tutorials for MATLAB and Simulink (ctms.engin.umich.edu).
- Lab Manuals from universities (e.g., Missouri S&T, UNLV for experiment ideas).

---

### **Part 1: Foundational Concepts (Sessions 1-4)**

* **Session 1: Introduction to MATLAB for Control Systems** üìä
    * **Objective:** Set up the environment and master basic operations for control applications.
    * **Topics:**
        * **MATLAB Environment:** Workspace, command window, editor, debugging tools.
        * **Data Structures:** Scalars, vectors, matrices, cell arrays.
        * **Basic Operations:** Arithmetic (+, -, *, /), element-wise (.*, ./), matrix operations, logical operators (&, |, ~).
        * **Scripting and Functions:** Creating .m files, functions with inputs/outputs.
        * **Plotting:** `plot`, `subplot`, `xlabel`, `ylabel`, `title`, `legend`, `grid on`, `hold on`.
        * **Control Libraries:** Installing/verifying Control System Toolbox; key functions like `tf` (transfer function), `ss` (state-space), `zpk` (zero-pole-gain).
    * **Code Implementation:** 
      - Basic: `A = [1 2; 3 4]; inv(A); plot(0:0.01:10, sin(0:0.01:10));`
      - Control Intro: `sys = tf([1],[1 1]); step(sys);`
    * **Exercise:** Write a script to compute eigenvalues of a matrix and plot exponential decay for a simple system.

* **Session 2: Modeling of Dynamic Systems** üöÇ
    * **Objective:** Represent electrical and mechanical systems mathematically in code.
    * **Topics:**
        * **Differential Equations:** Solving ODEs using `ode45` or symbolic toolbox.
        * **Transfer Function (TF):**
            * **Definition:** Laplace domain representation (numerator/denominator polynomials).
            * **Operations:** Series (`series`), parallel (`parallel`), feedback (`feedback`).
        * **State-Space (SS):**
            * **Definition:** Matrices A, B, C, D for first-order equations.
            * **Conversion:** `tf2ss`, `ss2tf`, `canon` (canonical forms).
        * **Zero-Pole-Gain (ZPK):** Alternative representation; conversions with `zpk`.
    * **Code Implementation:** 
      - TF: `num = [1]; den = [1 2 1]; sys = tf(num, den);`
      - SS: `A = [0 1; -1 -2]; B = [0;1]; C = [1 0]; D = 0; sys_ss = ss(A,B,C,D);`
    * **Exercise:** Model a DC motor (electrical: armature circuit; mechanical: torque-speed) using TF and SS; convert between forms.

* **Session 3: Time Domain Analysis** ‚è±Ô∏è
    * **Objective:** Simulate and evaluate system responses to inputs.
    * **Topics:**
        * **Standard Inputs:** Step (`step`), impulse (`impulse`), ramp (custom with `lsim`).
        * **Response Metrics:**
            * **Transient:** Rise time, peak time, overshoot, settling time (`stepinfo`).
            * **Steady-State:** Error calculation for type 0/1/2 systems.
        * **Custom Simulations:** Arbitrary inputs using `lsim` (linear simulation).
        * **Pole-Zero Map:** `pzmap` to visualize stability influences.
    * **Code Implementation:** 
      - `sys = tf([1],[1 0.5 1]); [y,t] = step(sys); info = stepinfo(sys);`
      - Custom: `u = t; [y,t,x] = lsim(sys, u, t);`
    * **Exercise:** Analyze a second-order RLC circuit's step response; compute metrics and vary damping ratio.

* **Session 4: Introduction to Simulink for System Modeling** üõ†Ô∏è
    * **Objective:** Transition to block-based modeling for complex systems.
    * **Topics:**
        * **Simulink Basics:** Blocks (sources, sinks, math), scopes, simulations.
        * **Building Models:** Transfer function blocks, state-space blocks.
        * **Integration with MATLAB:** Importing/exporting models via scripts.
        * **Simple Simulations:** Step response in Simulink vs. code.
    * **Code Implementation:** 
      - Script to Simulink: `sim('model_name');`
    * **Exercise:** Build and simulate an op-amp integrator circuit in Simulink; compare with MATLAB code.

---

### **Part 2: Stability and Frequency Domain Analysis (Sessions 5-8)**

* **Session 5: Stability Analysis Basics** üé¢
    * **Objective:** Assess system stability through pole locations and criteria.
    * **Topics:**
        * **S-Plane Stability:** All poles in left-half plane.
        * **Routh-Hurwitz Criterion:** Array construction; special cases (row of zeros).
        * **Root Locus:**
            * **Rules:** Asymptotes, break points, angle of departure.
            * **Analysis:** Gain effects on poles.
    * **Code Implementation:** 
      - Routh: Custom function or symbolic; Root Locus: `rlocus(sys);`
    * **Exercise:** Apply Routh-Hurwitz to a third-order system; plot root locus for a feedback amplifier.

* **Session 6: Frequency Domain Analysis: Bode Plots** üåä
    * **Objective:** Evaluate frequency response for design insights.
    * **Topics:**
        * **Frequency Response:** Sinusoidal steady-state.
        * **Bode Plot:** Magnitude (dB) and phase (degrees) vs. log frequency.
        * **Analysis:** Break frequencies, slopes (¬±20 dB/decade per order).
        * **Stability Margins:** Gain margin (GM), phase margin (PM) via `margin`.
    * **Code Implementation:** 
      - `bode(sys); [Gm, Pm, Wcg, Wcp] = margin(sys);`
    * **Exercise:** Generate Bode plot for a filter circuit; calculate margins and suggest stability improvements.

* **Session 7: Frequency Domain Analysis: Nyquist Plots** üåÄ
    * **Objective:** Use contour mapping for stability assessment.
    * **Topics:**
        * **Nyquist Criterion:** Encirclements of -1+j0 point; N = P - Z.
        * **Plot Construction:** Real vs. imaginary parts.
        * **Analysis:** Conditional stability, non-minimum phase systems.
    * **Code Implementation:** 
      - `nyquist(sys);`
    * **Exercise:** Plot Nyquist for a delay system; determine stability for varying gains.

* **Session 8: Advanced Stability Tools and Sensitivity** üîç
    * **Objective:** Explore robustness and multi-tool integration.
    * **Topics:**
        * **Sensitivity Analysis:** To parameter variations.
        * **Combining Tools:** Root locus with Bode/Nyquist.
        * **Disk Margins:** `diskmargin` for robust stability.
    * **Code Implementation:** 
      - `diskmargin(sys);`
    * **Exercise:** Analyze sensitivity in a power converter system; use multiple plots.

---

### **Part 3: Controller Design Basics (Sessions 9-12)**

* **Session 9: PID Controller Design** ‚öôÔ∏è
    * **Objective:** Design and tune PID for common applications.
    * **Topics:**
        * **PID Components:** P (proportional), I (integral), D (derivative).
        * **Closed-Loop:** `feedback(sys,1)`.
        * **Tuning:** Ziegler-Nichols, `pidtune`, trial-error.
    * **Code Implementation:** 
      - `C = pid(Kp,Ki,Kd); cl = feedback(C*sys,1);`
    * **Exercise:** Tune PID for DC motor speed control; achieve <5% overshoot.

* **Session 10: Lead-Lag Compensation** üîß
    * **Objective:** Use compensators to meet specs.
    * **Topics:**
        * **Lead:** Phase advance for transient improvement.
        * **Lag:** Gain reduction for steady-state.
        * **Design:** Via root locus/Bode; `rltool`.
    * **Code Implementation:** 
      - Interactive: `rltool(sys);`
    * **Exercise:** Design lead-lag for an unstable plant to stabilize.

* **Session 11: State-Space Control: Pole Placement** üéØ
    * **Objective:** Control states directly.
    * **Topics:**
        * **Controllability/Observability:** `ctrb`, `obsv`.
        * **Feedback:** `u = -Kx`; Ackermann (`acker`).
    * **Code Implementation:** 
      - `K = acker(A,B,poles);`
    * **Exercise:** Place poles for a magnetic levitation system.

* **Session 12: Digital Control Systems Basics** üñ•Ô∏è
    * **Objective:** Handle discrete-time systems.
    * **Topics:**
        * **Sampling/Z-Transform:** `c2d` (continuous to discrete).
        * **Discrete Analysis:** `dstep`, `drlocus`.
    * **Code Implementation:** 
      - `sysd = c2d(sys,Ts);`
    * **Exercise:** Discretize an analog PID; simulate sampled motor control.

---

### **Part 4: Advanced Controller Design (Sessions 13-16)**

* **Session 13: Observer Design and Estimation** üëÄ
    * **Objective:** Estimate unmeasurable states.
    * **Topics:**
        * **Luenberger Observer:** Full/reduced order.
        * **Kalman Filter:** For noisy systems (`kalman`).
    * **Code Implementation:** 
      - `L = place(A',C',poles_obs)';`
    * **Exercise:** Design observer for a power system state estimation.

* **Session 14: Optimal Control: LQR and LQG** üß†
    * **Objective:** Minimize cost functions.
    * **Topics:**
        * **LQR:** Quadratic cost; `lqr`.
        * **LQG:** LQR with Kalman (`lqg`).
    * **Code Implementation:** 
      - `[K,S,E] = lqr(sys,Q,R);`
    * **Exercise:** Optimize control for an inverted pendulum.

* **Session 15: Robust Control Introduction** üí™
    * **Objective:** Handle uncertainties.
    * **Topics:**
        * **H-Infinity Control:** Norm minimization.
        * **Mu-Synthesis:** Structured singular value.
    * **Code Implementation:** 
      - Requires Robust Control Toolbox: `hinfsyn`.
    * **Exercise:** Design robust controller for a flexible beam with uncertainties.

* **Session 16: Model Predictive Control (MPC)** üìà
    * **Objective:** Predictive optimization.
    * **Topics:**
        * **MPC Basics:** Horizon, constraints.
        * **Implementation:** `mpc` object.
    * **Code Implementation:** 
      - `ctrl = mpc(sys);`
    * **Exercise:** Apply MPC to a chemical process reactor simulation.

---

### **Part 5: Modern and Nonlinear Topics (Sessions 17-20)**

* **Session 17: Nonlinear Control Systems** üå™Ô∏è
    * **Objective:** Address nonlinearities.
    * **Topics:**
        * **Linearization:** Around operating points (`linmod`).
        * **Describing Functions:** For limit cycles.
        * **Phase-Plane Analysis:** Custom plots.
    * **Code Implementation:** 
      - `sys_nl = linmod('simulink_model');`
    * **Exercise:** Analyze Van der Pol oscillator; linearize and control.

* **Session 18: Adaptive and Learning-Based Control** ü§ñ
    * **Objective:** Adapt to changes.
    * **Topics:**
        * **Model Reference Adaptive Control (MRAC).**
        * **Neural Network Control:** Intro with Neural Network Toolbox.
    * **Code Implementation:** 
      - Custom adaptive scripts; `nntool`.
    * **Exercise:** Adaptive control for a varying load motor.

* **Session 19: Fuzzy Logic and Intelligent Control** üß©
    * **Objective:** Rule-based control for uncertainty.
    * **Topics:**
        * **Fuzzy Sets/Membership:** Fuzzification, inference, defuzzification.
        * **Fuzzy PID:** Using Fuzzy Logic Toolbox.
    * **Code Implementation:** 
      - `fis = readfis('fuzzy_controller'); evalfis(input,fis);`
    * **Exercise:** Design fuzzy controller for temperature regulation.

* **Session 20: Multi-Variable and Decentralized Control** üîó
    * **Objective:** Handle coupled systems.
    * **Topics:**
        * **MIMO Systems:** Transfer function matrices.
        * **Decoupling:** Interaction analysis.
    * **Code Implementation:** 
      - `sys_mimo = ss(A,B,C,D); minreal(sys_mimo);`
    * **Exercise:** Control a two-tank level system (MIMO).

---

### **Part 6: Projects, Case Studies, and Integration (Sessions 21-24)**

* **Session 21: Case Study - Power Systems Control** ‚ö°
    * **Objective:** Apply to electrical grids.
    * **Topics:** Load frequency control, voltage regulation.
    * **Exercise:** Simulate AGC in a power grid; tune PID/LQR.

* **Session 22: Case Study - Robotics and Mechatronics** ü§ñ
    * **Objective:** Control articulated systems.
    * **Topics:** Forward/inverse kinematics, trajectory tracking.
    * **Exercise:** Control a 2-DOF robot arm with MPC.

* **Session 23: Case Study - Automotive and EV Control** üöó
    * **Objective:** Vehicle dynamics.
    * **Topics:** ABS, traction control, battery management.
    * **Exercise:** Design controller for EV speed regulation.

* **Session 24: Capstone Project and Review** üéì
    * **Objective:** Integrate all concepts.
    * **Project Ideas:**
        * Inverted Pendulum Stabilization (nonlinear + optimal).
        * Quadcopter Flight Control (MIMO + adaptive).
        * Smart Grid Simulator (robust + MPC).
    * **Deliverables:** Full MATLAB/Simulink code, report, presentation (GitHub repo encouraged).
    * **Review:** Debugging tips, numerical issues, real-time implementation (e.g., via Arduino interface).
