# 📘 Lecture: Mass-Spring-Damper System – From Modeling to Controller Design and Deployment

---

## 1. 🔎 Introduction

* The **mass-spring-damper system** is a standard model for mechanical vibrations.
* Applications:
  ✅ Vehicle suspension systems
  ✅ Robotics (joints & manipulators)
  ✅ Vibration isolation systems

We’ll study:

1. **Modeling** (derive equations)
2. **Analysis** (stability & dynamics)
3. **Controller Design** (PID)
4. **Simulation (MATLAB)**
5. **Deployment considerations**

---

## 2. ⚙️ System Modeling

### 📝 Governing Equation

$$
M \ddot{x}(t) + C \dot{x}(t) + K x(t) = F(t)
$$

where:

* **$M$** – Mass (kg)
* **$C$** – Damping coefficient (N·s/m)
* **$K$** – Spring stiffness (N/m)
* **$x(t)$** – Displacement of mass (m)
* **$F(t)$** – External force input (N)

---

### 📑 Parameters and Meaning

* $M$: inertia of moving object (resists acceleration).
* $C$: viscous damping (models friction/resistance).
* $K$: spring stiffness (restoring force).
* $x(t)$: system output (position).
* $F(t)$: system input (force applied).

---

### 🔄 Transfer Function

Taking Laplace transform:

$$
\frac{X(s)}{F(s)} = \frac{1}{M s^2 + C s + K}
$$

---

### 📊 State-Space Representation

Let $x_1 = x$, $x_2 = \dot{x}$:

$$
\dot{x} =
\begin{bmatrix}
0 & 1 \\
-\frac{K}{M} & -\frac{C}{M}
\end{bmatrix} x +
\begin{bmatrix}
0 \\ \frac{1}{M}
\end{bmatrix} F
$$

$$
y = [1 \;\; 0] x
$$

---

## 3. 📐 System Analysis

* **Underdamped** ($\zeta < 1$): oscillatory response.
* **Critically damped** ($\zeta = 1$): fastest non-oscillatory response.
* **Overdamped** ($\zeta > 1$): slow but no oscillation.

📌 Example parameters:

* $M = 1$ kg, $C = 2$ Ns/m, $K = 20$ N/m

---

## 4. 🎛️ Controller Design

### 🎯 Control Goal

* Control **position $x(t)$** to follow a reference input.

### 🛠️ Method: PID Controller

* $K_p$: proportional action → reduces rise time.
* $K_i$: integral action → eliminates steady-state error.
* $K_d$: derivative action → reduces overshoot.

---

### 🧑‍💻 MATLAB Example Code

```matlab
% ⚙️ System Parameters
M = 1; C = 2; K = 20;

% 📝 Transfer Function
num = [1];
den = [M C K];
sys = tf(num, den);

% 📊 Step Response (Open Loop)
figure; step(sys);
title('Open-loop Step Response (Mass-Spring-Damper)');

% 🎛️ PID Controller
Kp = 300; Ki = 400; Kd = 10;
C_pid = pid(Kp, Ki, Kd);

% 🔄 Closed-loop System
sys_cl = feedback(C_pid*sys, 1);

% 📈 Step Response (With PID)
figure; step(sys_cl);
title('Closed-loop Step Response with PID');
```

---

## 5. 💻 Simulation & Implementation

* **Open-loop response**: sluggish, may oscillate if underdamped.
* **Closed-loop with PID**: faster, accurate tracking of reference.
* Tune PID parameters via trial/error or MATLAB’s **`pidTuner`** tool.

---

## 6. 🚀 Deployment Steps

### 🔗 Hardware-in-the-Loop

* Replace mathematical model with **real vibration/suspension setup**.
* Test controller while keeping MATLAB in the loop.

### 🖥️ Embedded Deployment

* Export controller to **microcontroller/PLC**.
* Sample sensors (displacement/force) at ≥10× natural frequency.

### ⚠️ Practical Considerations

* Add **sensors** (displacement, velocity).
* Account for **nonlinearities** (spring not perfectly linear).
* Protect against **force limits** (actuator saturation).

---

## 7. 🏁 Conclusion

* Derived **mass-spring-damper model**.
* Analyzed dynamics using transfer function and state-space.
* Designed a **PID controller** in MATLAB.
* Outlined **deployment methods** for real setups (suspension, robotics).

👉 This is a universal workflow: **Model → Analyze → Control → Simulate → Deploy**.

