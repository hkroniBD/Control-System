# 📊 Lecture on Session 1: Introduction to MATLAB for Control Systems

**👨‍🏫 Instructor**: Md. Hassanul Karim Roni, Assistant Professor, Department of Electrical and Electronic Engineering (EEE), Hajee Mohammad Danesh Science and Technology University (HSTU), Dinajpur, Bangladesh 🇧🇩

**🎯 Objective**: Set up the MATLAB environment and master basic operations for control systems applications. This session introduces students to MATLAB as a powerful tool for modeling, analyzing, and designing control systems, with a focus on practical coding skills for electrical engineering applications. 🛠️

**⏳ Duration**: 2-3 hours (lecture + lab)

**📋 Prerequisites**: Basic understanding of linear algebra and introductory programming concepts. MATLAB (with Control System Toolbox) must be installed on lab computers or student laptops. 💻

**📚 Resources**:
- 🌐 MATLAB Documentation (MathWorks: [www.mathworks.com/help/matlab](https://www.mathworks.com/help/matlab))
- 📖 “Control Systems Engineering” by Norman S. Nise (Chapter 1 for software intro)
- 🔗 Online: MATLAB Control System Tutorials ([ctms.engin.umich.edu](http://ctms.engin.umich.edu))

---

## 🗂️ Topics Covered

1. 🌍 **MATLAB Environment**: Workspace, command window, editor, debugging tools.
2. 📈 **Data Structures**: Scalars, vectors, matrices, cell arrays.
3. ➕ **Basic Operations**: Arithmetic (+, -, *, /), element-wise (.*, ./), matrix operations, logical operators (&, |, ~).
4. 📜 **Scripting and Functions**: Creating .m files, functions with inputs/outputs.
5. 📉 **Plotting**: `plot`, `subplot`, `xlabel`, `ylabel`, `title`, `legend`, `grid on`, `hold on`.
6. 🔧 **Control Libraries**: Installing/verifying Control System Toolbox; key functions like `tf` (transfer function), `ss` (state-space), `zpk` (zero-pole-gain).

---

## 📝 Detailed Lecture Content

### 🌍 1. MATLAB Environment
MATLAB (Matrix Laboratory) is a high-level programming environment tailored for numerical computations, visualization, and control system design. Understanding its interface is essential for efficient coding. 🖥️

- **🖱️ Command Window**: The primary interface for executing commands instantly. Type a command and press Enter to see results. Example: `2 + 3` returns `ans = 5`.
- **📊 Workspace**: Displays all variables currently in memory. Variables persist until cleared (`clear`) or the session ends.
- **✍️ Editor**: Used to write and save scripts or functions as `.m` files. Access via `Home > New Script` in MATLAB.
- **🔍 Debugging Tools**: Set breakpoints, step through code, and inspect variables. Use `dbstop` or the Editor’s “Breakpoints” menu to pause execution for debugging.

**💡 Example**: Open MATLAB, type `a = 10` in the Command Window, and observe `a` in the Workspace. Open the Editor to create a new script.

---

### 📈 2. Data Structures
MATLAB is built around matrices, making it ideal for control systems, which often involve matrix-based operations (e.g., state-space models). 🧮

- **🔢 Scalars**: Single numbers, e.g., `x = 5;`.
- **📏 Vectors**: 1D arrays, e.g., row vector `v = [1 2 3];` or column vector `v = [1; 2; 3];`.
- **🗄️ Matrices**: 2D arrays, e.g., `A = [1 2; 3 4];` (2x2 matrix).
- **📦 Cell Arrays**: Store mixed data types, e.g., `C = {1, 'text', [1 2]};`.

**💬 Explanation**: Vectors and matrices are fundamental for control systems (e.g., state-space matrices A, B, C, D). Cell arrays are useful for organizing multiple system models or parameters.

---

### ➕ 3. Basic Operations
MATLAB supports standard arithmetic and specialized operations for matrices and element-wise computations. 🔢

- **🧮 Arithmetic**: `+`, `-`, `*`, `/` for scalar/matrix operations. Example: `A * B` for matrix multiplication.
- **🔧 Element-Wise Operations**: Use dot operators (`.`, `./`, `.^`) for operations on each element. Example: `[1 2] .* [3 4]` yields `[3 8]`.
- **🚦 Logical Operators**: `&` (AND), `|` (OR), `~` (NOT). Example: `(a > 2) & (a < 10)` checks conditions element-wise.
- **📐 Matrix Operations**: Inversion (`inv`), transpose (`'`), determinant (`det`).

**💻 Example Code**:
```matlab
% Matrix operations
A = [1 2; 3 4]; % 2x2 matrix
B = inv(A); % Inverse
disp('Inverse of A:');
disp(B);
% Element-wise
v = [1 2 3];
w = v .^ 2; % Square each element
disp('Element-wise square:');
disp(w);
```

**💬 Explanation**: 
- `A = [1 2; 3 4];` creates a 2x2 matrix. Semicolons within `[]` separate rows.
- `inv(A)` computes the inverse, useful for solving systems like Ax = b in control design.
- Element-wise operations (e.g., `.^`) are critical for manipulating arrays without matrix rules, common in signal processing.

---

### 📜 4. Scripting and Functions
Scripts and functions enable reusable, organized code for control system tasks. 📝

- **📄 Scripts**: `.m` files with a sequence of commands. Example: Save as `myScript.m` and run with `myScript`.
- **🔧 Functions**: Defined with inputs/outputs. Syntax:
  ```matlab
  function [output] = functionName(input)
      % Code here
  end
  ```
- **🚀 Running**: Scripts run directly; functions are called with arguments, e.g., `result = functionName(data);`.

**💻 Example Code**:
```matlab
% Script: myScript.m
t = 0:0.01:10; % Time vector
y = sin(t); % Sine wave
plot(t, y);
title('Sine Wave');

% Function: computeSquare.m
function y = computeSquare(x)
    y = x^2;
end
```

**💬 Explanation**:
- The script generates a sine wave over 0 to 10 seconds with 0.01s increments. Save as `myScript.m` and run by typing `myScript`.
- The function `computeSquare` takes input `x` and returns its square. Call it with `y = computeSquare(5);` to get `y = 25`.

---

### 📉 5. Plotting
Visualization is key in control systems to interpret responses (e.g., step response). 📊

- **📈 Basic Plot**: `plot(x, y)` creates a line plot.
- **🎨 Enhancements**:
  - `xlabel('text')`, `ylabel('text')`: Label axes.
  - `title('text')`: Add plot title.
  - `legend('label1', 'label2')`: Identify multiple lines.
  - `grid on`: Add gridlines.
  - `hold on`: Overlay multiple plots.
  - `subplot(m,n,p)`: Create m×n grid, select p-th position.

**💻 Example Code**:
```matlab
% Plotting a sine wave
t = 0:0.01:10; % Time vector (0 to 10s, 0.01s step)
y = sin(t); % Sine values
plot(t, y, 'b-', 'LineWidth', 2); % Blue line, width 2
xlabel('Time (s)'); ylabel('Amplitude');
title('Sine Wave Example');
grid on;
```

**💬 Explanation**:
- `t = 0:0.01:10` creates a vector from 0 to 10 with 0.01 increments (1001 points).
- `sin(t)` computes sine for each element in `t`.
- `'b-'` specifies a blue solid line; `'LineWidth', 2` sets thickness.
- Labels and grid improve readability for presenting system behavior.

---

### 🔧 6. Control Libraries
The Control System Toolbox provides specialized functions for control systems. 🛠️

- **✅ Installation Check**: Type `ver -support` to confirm the Control System Toolbox is installed. If not, contact your lab admin or download via MATLAB’s Add-Ons.
- **🔑 Key Functions**:
  - `tf(num, den)`: Creates a transfer function (numerator/denominator polynomials).
  - `ss(A,B,C,D)`: Defines a state-space model.
  - `zpk(z,p,k)`: Zero-pole-gain model (zeros, poles, gain).
- **📉 Basic Analysis**: `step(sys)` plots the step response of system `sys`.

**💻 Example Code**:
```matlab
% Control System Toolbox Intro
num = [1]; % Numerator (s^0)
den = [1 1]; % Denominator (s + 1)
sys = tf(num, den); % Transfer function 1/(s+1)
step(sys); % Plot step response
title('Step Response of 1/(s+1)');
xlabel('Time (s)'); ylabel('Output');
grid on;
```

**💬 Explanation**:
- `num = [1]` and `den = [1 1]` represent the transfer function 1/(s+1), a first-order system.
- `tf(num, den)` creates the system object.
- `step(sys)` simulates the response to a unit step input, showing how the output rises to 1 with a time constant of 1s.
- This models an RC circuit or similar dynamics in electrical engineering.

---

## 💻 Code Implementation (Combined Example)

Below is a complete script combining the above concepts, demonstrating matrix operations, plotting, and control system basics.

```matlab
% Session1_Example.m
% 👨‍🏫 Instructor: Md. Hassanul Karim Roni, HSTU
% Basic MATLAB operations and control system intro

% 🧹 Clear workspace and command window
clear; clc;

% 🧮 Matrix Operations
A = [1 2; 3 4]; % 2x2 matrix
B = inv(A); % Inverse
disp('Matrix A:'); disp(A);
disp('Inverse of A:'); disp(B);

% 📉 Plotting a Sine Wave
t = 0:0.01:10; % Time vector
y = sin(t); % Sine wave
figure; % New figure window
plot(t, y, 'b-', 'LineWidth', 2); % Blue line
xlabel('Time (s)'); ylabel('Amplitude');
title('Sine Wave Example');
grid on;

% 🔧 Control System: Step Response
num = [1]; % Numerator
den = [1 1]; % Denominator (s + 1)
sys = tf(num, den); % Transfer function
figure; % New figure for step response
step(sys); % Plot step response
title('Step Response of 1/(s+1)');
xlabel('Time (s)'); ylabel('Output');
grid on;
```

**💬 Explanation**:
- `clear; clc;` resets the workspace and clears the command window for a clean start.
- The matrix section demonstrates creating and inverting a matrix, useful for state-space calculations later.
- The sine wave plot introduces visualization, critical for response analysis.
- The control system section models a first-order system, showing how MATLAB handles transfer functions and their responses.
- Save this as `Session1_Example.m` and run it to see all outputs.

---

## 🛠️ Exercise
**Task**: Write a MATLAB script to:
1. Compute the eigenvalues of a matrix representing a system.
2. Plot the exponential decay of a system defined by `exp(-a*t)`, where `a` is an eigenvalue.

**💻 Solution Example**:
```matlab
% Exercise_Session1.m
% Compute eigenvalues and plot exponential decay

% 🧮 Step 1: Define a matrix and compute eigenvalues
A = [0 1; -2 -3]; % Example system matrix
eig_vals = eig(A); % Compute eigenvalues
disp('Eigenvalues of A:'); disp(eig_vals);

% 📉 Step 2: Plot exponential decay using first eigenvalue
t = 0:0.01:5; % Time vector
a = real(eig_vals(1)); % Use real part of first eigenvalue
y = exp(a * t); % Exponential decay
figure;
plot(t, y, 'r-', 'LineWidth', 2);
xlabel('Time (s)'); ylabel('Amplitude');
title(['Exponential Decay with Eigenvalue = ', num2str(a)]);
grid on;
```

**💬 Explanation**:
- `A = [0 1; -2 -3]` is a 2x2 matrix, resembling a second-order system’s state-space form (e.g., a mass-spring system).
- `eig(A)` computes eigenvalues, which dictate system dynamics (negative real parts indicate decay).
- `real(eig_vals(1))` extracts the real part of the first eigenvalue to ensure a real-valued decay rate.
- `exp(a * t)` models the decay, plotted over 0 to 5 seconds.
- Students should save and run this script, then modify `A` to explore different eigenvalues.

---

## 📌 Additional Notes
- **✅ Best Practices**:
  - Use `clc`, `clear`, `close all` at script start to avoid conflicts.
  - Comment code generously (use `%`) for clarity. 🗣️
  - Save scripts in a dedicated folder; use version control (e.g., Git) if possible. 📂
- **🔍 Debugging Tips**:
  - Check variable types with `whos` or `class()`.
  - Use `disp()` to print intermediate results.
  - Set breakpoints in the Editor to pause and inspect code.
- **🚀 Extensions**:
  - Explore `figure` properties (e.g., `set(gcf, 'Name', 'My Plot')`) for customized plots.
  - Try `subplot` to compare multiple responses (e.g., sine and cosine).
- **🖥️ Lab Setup**: Ensure MATLAB license includes Control System Toolbox. If issues arise, contact MathWorks support or use campus licenses.

---

## 🎓 Learning Outcomes
By the end of this session, students will:
1. 🌍 Navigate the MATLAB environment confidently.
2. 🧮 Perform basic matrix operations and create plots.
3. 📜 Write and run scripts/functions for reusable code.
4. 🔧 Model a simple control system using `tf` and simulate its step response.
5. 📈 Understand the role of eigenvalues in system dynamics and visualize their effects.

**📅 Next Session Preview**: Modeling dynamic systems (e.g., RC circuits, DC motors) using transfer functions and state-space representations, with conversions between forms. 🛠️

**📝 Assignment**: Complete the exercise script and modify it to plot decays for all eigenvalues of matrix `A`. Submit the script and a brief report (1 page) explaining the plots and eigenvalue effects by next session. 📄

---

*Prepared by Md. Hassanul Karim Roni, Assistant Professor, EEE, HSTU, Dinajpur, Bangladesh.*  
*📅 Date: August 29, 2025*
